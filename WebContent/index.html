<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MiniHack24.02.18</title>

<script src="http://code.jquery.com/jquery-latest.min.js"></script>

<style>
    #map {
     height: 400px;
     width: 100%;
    }
 </style>
</head>
<body>
    <h3>My Google Maps Demo</h3>
    
    <p id="locationA"> </p>
    <p id="locationB"> </p>
    
    <div id="map"></div>
    
    <script>
    
    var options = {
    		  enableHighAccuracy: true,
    		  timeout: 5000,
    		  maximumAge: 0
	};
    
    function error(err) {
    		console.warn(`ERROR(${err.code}): ${err.message}`);
    	};
    	
    navigator.geolocation.getCurrentPosition(initMap, error, options);
    
    function initMap(pos) {
    		var crd = pos.coords;
		var currentPosition = {lat: crd.latitude, lng: crd.longitude};
		var map = new google.maps.Map(document.getElementById('map'), {
			zoom: 15,
			center: currentPosition
		});
      
		var marker = new google.maps.Marker({
			position: currentPosition,
			map: map
		});
		
		var nearLocation = {lat: crd.latitude + 0.01, lng: crd.longitude + 0.01};
		
		$("#locationA").text(currentPosition.lat + " " + currentPosition.lng);
		$("#locationB").text(nearLocation.lat + " " + nearLocation.lng);
		
		var marker = new google.maps.Marker({
		    position: nearLocation,
		    map: map
        });
    }

    </script>
    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVoI-brTjE9Q0qzkyb0di0f-pty2dtVKg&callback=initMap"> </script>
  </body>
  
</html>
